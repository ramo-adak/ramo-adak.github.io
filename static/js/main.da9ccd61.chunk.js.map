{"version":3,"sources":["components/NewsCard.js","components/News.js","App.js","index.js"],"names":["toSnippet","content","maxLength","length","substring","getHeader","readableDate","relativeDate","sourceName","title","className","icon","faClock","href","getTitle","link","getImage","imgLink","src","alt","React","memo","props","isOnlyText","articleDate","Date","dateTime","toString","moment","format","fromNow","onClick","url","newWindow","window","open","opener","openInNewTab","description","GET_ARTICLES","gql","News","useQuery","loading","error","data","fetchMore","articles","edges","map","x","node","toArticles","article","key","id","articleSummary","articleUrl","pubDateTime","imageUrl","pageInfo","hasNextPage","variables","cursor","endCursor","loadMore","undefined","faSyncAlt","spin","faExclamation","faChevronDown","client","ApolloClient","uri","process","cache","InMemoryCache","typePolicies","Query","fields","relayStylePagination","App","updateLocale","localization","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.da9ccd61.chunk.js","sourcesContent":["import React from 'react';\nimport moment from 'moment'\nimport { faClock } from '@fortawesome/free-regular-svg-icons'\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nfunction toSnippet(content, maxLength) {\n    return content.length >= maxLength\n        ? content.substring(0, maxLength - 3) + \"...\"\n        : content;\n}\n\nconst openInNewTab = (url) => {\n    const newWindow = window.open(url, '_blank', 'noopener,noreferrer')\n    if (newWindow) newWindow.opener = null\n}\n\nfunction NewsCard(props) {\n    const isOnlyText = !props.imgLink;\n    const articleDate = new Date(props.dateTime).toString();\n    const readableDate = moment(new Date(articleDate)).format('LLLL');\n    const relativeDate = moment(new Date(articleDate)).fromNow();\n    return (\n        <div\n\n            onClick={() => openInNewTab(props.link)}\n            className=\"clickable news-card-flex shadowed\">\n            <div className=\"news-card-column alternative\">\n\n                {getImage(props.imgLink)}\n                {getTitle(props.title, props.link)}\n                <div className=\"content-snippet\">{toSnippet(props.description, (isOnlyText ? 250 : 100))}</div>\n                {getHeader(readableDate, relativeDate, props.sourceName)}\n            </div>\n\n            <div className=\"news-card-row main\">\n                <div className=\"news-content\">\n                    {getHeader(readableDate, relativeDate, props.sourceName)}\n                    {getTitle(props.title, props.link)}\n                    <div className=\"content-snippet\">{toSnippet(props.description, (isOnlyText ? 500 : 250))}</div>\n                </div>\n                {getImage(props.imgLink)}\n            </div>\n        </div>\n    )\n}\n\nfunction getHeader(readableDate, relativeDate, sourceName) {\n\n    return (\n        <div title={readableDate} className=\"article-header\">\n            <span><FontAwesomeIcon icon={faClock} /> {relativeDate}</span>\n            <span>-</span>\n            <span className=\"source-header\" href=\"#\">@{sourceName}</span>\n        </div>\n    )\n}\n\nfunction getTitle(title, link) {\n    return (\n        <div className=\"article-title\">\n            {title}\n        </div>\n    )\n}\n\nfunction getImage(imgLink) {\n    if (imgLink) {\n        return (\n            <div className=\"news-img-container\">\n                <img className=\"news-img\" src={imgLink} alt=\"placeHolder\"></img>\n            </div>\n        )\n    } else {\n        return;\n    }\n}\n\nexport default React.memo(NewsCard)","import React from 'react';\nimport NewsCard from './NewsCard'\nimport './News.scss'\n\nimport {faChevronDown, faSyncAlt, faExclamation} from '@fortawesome/free-solid-svg-icons'\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\n\nimport { useQuery, gql } from '@apollo/client';\n\nconst GET_ARTICLES = gql`query Articles($cursor: String) {articles(first: 10, after: $cursor) {\n    edges {\n      node {\n        id, pubDateTime, title, sourceName, \n        articleUrl,  articleSummary, imageUrl\n      }\n      cursor\n    } \n    pageInfo {startCursor, endCursor, hasNextPage}\n    totalCount\n  }}`;\n\nfunction toArticles(articles) {\n    return articles?.edges?.map( x=> x.node) || [];\n}\nfunction hasNextPage(articles) {\n    return articles?.pageInfo?.hasNextPage;\n}\n\nfunction News() {\n\n    const { loading, error, data, fetchMore } = useQuery(GET_ARTICLES);\n    \n    function loadMore () {\n        fetchMore({\n            variables: {\n              cursor: data?.articles?.pageInfo?.endCursor\n            }\n        });\n    }\n    \n    return (\n        \n        <div className=\"news-flex\">\n            {toArticles(data?.articles).map((article) =>\n                (\n                    <NewsCard\n                        key={article.id}\n                        title={article.title}\n                        description={article.articleSummary}\n                        link={article.articleUrl}\n                        sourceName={article.sourceName}\n                        dateTime={article.pubDateTime}\n                        imgLink={article.imageUrl}\n                    />\n                )\n            )}\n\n            <div className={\"load-more clickable \" + (error ? \"red\": \"\")} \n                onClick={() => hasNextPage(data?.articles) && !loading ? loadMore() : undefined}>\n                {loading ? (<FontAwesomeIcon icon={faSyncAlt} spin/>)\n                 : error ?  (<FontAwesomeIcon  icon={faExclamation}/>)\n                 :(<FontAwesomeIcon icon={faChevronDown} />)\n                }\n            </div>\n        </div>\n\n    )\n}\n\nexport default News\n\n","import React from 'react';\nimport News from './components/News'\n\nimport './App.scss'\n\nimport {ApolloProvider} from '@apollo/client';\nimport { ApolloClient, InMemoryCache } from '@apollo/client';\nimport { relayStylePagination } from \"@apollo/client/utilities\";\n\n\n// init apollo client\nconst client = new ApolloClient({\n  uri: process.env.REACT_APP_API_URL,\n  cache: new InMemoryCache({\n    typePolicies: {\n      Query: {\n        fields: {\n          articles: relayStylePagination([]),\n        },\n      },\n    },\n  })\n});\n\nfunction App() {\n    return (\n        <ApolloProvider client={client}>\n            <div>\n                <img className=\"logo\" src={process.env.PUBLIC_URL + 'logo.png'} alt=\"Logo\"/>\n                <News/>\n            </div>\n        </ApolloProvider>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport moment from \"moment\"\nimport localization from 'moment/locale/ar-dz';\n\n\nmoment.updateLocale('ar-dz', localization);\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}