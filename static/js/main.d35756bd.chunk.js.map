{"version":3,"sources":["components/NewsCard.js","components/News.js","App.js","index.js","static/logo.png"],"names":["toSnippet","content","maxLength","length","substring","getHeader","readableDate","relativeDate","sourceName","title","className","icon","faClock","href","getTitle","link","target","rel","getImage","imgLink","src","alt","NewsCard","props","isOnlyText","articleDate","Date","dateTime","toString","moment","format","fromNow","onClick","window","open","description","initialState","loading","error","articles","articlesReducer","state","action","type","payload","News","useReducer","dispatch","useEffect","currentDate","toJSON","slice","fetch","then","res","json","catch","map","article","SK","key","uuid","contentSnippet","source_name","split","ogImage","og_image","App","logo","updateLocale","localization","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.d35756bd.chunk.js","sourcesContent":["import React from 'react';\nimport moment from 'moment'\nimport {faClock} from '@fortawesome/free-regular-svg-icons'\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\n\nfunction toSnippet(content, maxLength) {\n    return content.length >= maxLength\n        ? content.substring(0, maxLength - 3) + \"...\"\n        : content;\n}\n\nfunction NewsCard(props) {\n\n    const isOnlyText = !props.imgLink ;\n    const articleDate = new Date(props.dateTime).toString();\n    const readableDate = moment(articleDate).format('LLLL');\n    const relativeDate = moment(articleDate).fromNow();\n    return (\n\n        <div\n            onClick={() => window.open(props.link, '_blank')}\n            className=\"clickable news-card-flex shadowed\">\n            <div className=\"news-card-column alternative\">\n\n                {getImage(props.imgLink)}\n                {getTitle(props.title, props.link)}\n                <div className=\"content-snippet\">{toSnippet(props.description, (isOnlyText? 250 : 100))}</div>\n                {getHeader(readableDate, relativeDate, props.sourceName)}\n            </div>\n            \n            <div className=\"news-card-row main\">\n                <div className=\"news-content\">\n                    {getHeader(readableDate, relativeDate, props.sourceName)}\n                    {getTitle(props.title, props.link)}\n                    <div className=\"content-snippet\">{toSnippet(props.description, (isOnlyText? 500 : 250))}</div>\n                </div>\n                {getImage(props.imgLink)}\n            </div>\n        </div>\n    )\n}\n\nfunction getHeader(readableDate, relativeDate, sourceName) {\n\n    return (\n        <div title={readableDate} className=\"article-header\">\n            <span><FontAwesomeIcon icon={faClock}/> {relativeDate}</span>\n            <span>-</span>\n            <span className=\"source-header\" href=\"#\">@{sourceName}</span>\n        </div>\n    )\n}\n\nfunction getTitle(title, link) {\n    return (\n        <div className=\"article-title\">\n            <a href={link} target=\"_blank\" rel=\"noopener noreferrer\">{title}</a>\n        </div>\n    )\n}\n\nfunction getImage(imgLink) {\n    if (imgLink) {\n        return (\n            <div className=\"news-img-container\">\n                <img className=\"news-img\" src={imgLink} alt=\"placeHolder\"></img>\n            </div>\n        )\n    } else {\n        return;\n    }\n}\n\nexport default NewsCard","import React, { useEffect, useReducer } from 'react';\nimport NewsCard from './NewsCard'\nimport './News.scss'\n\nfunction GetDateTime(SK) {\n    return (\n        SK.split('_')[0]\n    )\n}\n\nconst initialState = {\n    loading: true,\n    error: '',\n    articles: []\n}\n\nconst articlesReducer = (state, action) => {\n    switch (action.type) {\n        case 'FETCH_SUCCESS':\n            return {\n                loading: false,\n                error: '',\n                articles: action.payload\n            }\n        case 'FETCH_ERROR':\n            return {\n                loading: false,\n                error: 'something went wrong',\n                articles: []\n            }\n        default:\n            return state\n    }\n}\n\nfunction News() {\n\n    const [state, dispatch] = useReducer(articlesReducer, initialState);\n\n    useEffect(() => {\n        const currentDate = new Date().toJSON().slice(0, 10);\n        fetch(\"https://ft5f6uj1n2.execute-api.eu-west-3.amazonaws.com/Prod/\" + currentDate)\n            .then(res => res.json())\n            .then(res => {\n                dispatch({ type: 'FETCH_SUCCESS', payload: res })\n            })\n            .catch(error => {\n                dispatch({ type: 'FETCH_ERROR' })\n            })\n    }, []);\n\n    return (\n        <div className=\"news-flex\">\n            {state.loading ? (<h2>Loading ...</h2>) : state.articles.map((article) =>\n                (\n                    <NewsCard\n                        key={article.uuid}\n                        title={article.title}\n                        description={article.contentSnippet}\n                        link={article.link}\n                        sourceName={article.source_name}\n                        dateTime={GetDateTime(article.SK)}\n                        imgLink={article.ogImage?.og_image}\n                    />\n                )\n            )}\n        </div>\n    )\n}\n\nexport default News\n\n\n","import React from 'react';\n\n\nimport News from './components/News'\n\nimport './App.scss'\nimport logo from './static/logo.png';\n\nfunction App() {\n  return (\n    <div>\n      <img className = \"logo\" src={logo} alt=\"Logo\" />\n      <News/>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport moment from \"moment\"\nimport localization from 'moment/locale/ar-dz';\n\n\nmoment.updateLocale('ar-dz', localization);\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","module.exports = __webpack_public_path__ + \"static/media/logo.2588fe06.png\";"],"sourceRoot":""}