{"version":3,"sources":["components/NewsCard.js","components/News/NewsPresentation.js","components/News/News.js","App.js","index.js"],"names":["toSnippet","content","maxLength","length","substring","openInNewTab","url","event","newWindow","window","open","opener","stopPropagation","getTitle","title","link","className","href","onClick","e","target","rel","getImage","imgLink","src","alt","referrerPolicy","React","memo","props","sourceTitle","sourceUrl","isOnlyText","imageUrl","articleDate","Date","pubDateTime","toString","readableDate","moment","format","relativeDate","fromNow","articleUrl","articleSummary","icon","faNewspaper","getSourceTitleWithTime","faClock","getTimeDiv","NewsPresenation","loading","error","articles","loadMore","hasNextPage","map","article","key","id","Grid","container","justify","CircularProgress","undefined","ErrorOutline","fontSize","color","KeyboardArrowDown","GET_ARTICLES","gql","toArticles","edges","x","node","pageInfo","News","useQuery","data","fetchMore","variables","cursor","endCursor","client","ApolloClient","uri","process","cache","InMemoryCache","typePolicies","Query","fields","relayStylePagination","App","updateLocale","localization","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.68bab497.chunk.js","sourcesContent":["import React from 'react';\nimport moment from 'moment'\nimport { faClock, faNewspaper} from '@fortawesome/free-regular-svg-icons'\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nfunction toSnippet(content, maxLength) {\n    return content.length >= maxLength\n        ? content.substring(0, maxLength - 3) + \"...\"\n        : content;\n}\n\nconst openInNewTab = (url, event) => {\n    const newWindow = window.open(url, '_blank', 'noopener,noreferrer')\n    if (newWindow) newWindow.opener = null\n    if (event) event.stopPropagation();\n}\n\nfunction NewsCard(props) {\n    const isOnlyText = !props.imageUrl;\n    const articleDate = new Date(props.pubDateTime).toString();\n    const readableDate = moment(new Date(articleDate)).format('LLLL');\n    const relativeDate = moment(new Date(articleDate)).fromNow();\n    return (\n        <div\n\n            onClick={() => openInNewTab(props.articleUrl)}\n            className=\"clickable news-card-flex shadowed\">\n            <div className=\"news-card-column alternative\">\n\n                {getImage(props.imageUrl, props.title)}\n                {getTitle(props.title, props.link)}\n                <div className=\"content-snippet\">{toSnippet(props.articleSummary, (isOnlyText ? 250 : 100))}</div>\n                {getSourceTitleWithTime(props.sourceTitle, props.sourceUrl, readableDate, relativeDate )}\n                \n            </div>\n\n            <div className=\"news-card-row main\">\n                <div className=\"news-content\">\n                    {getTitle(props.title, props.articleUrl)}\n                    {getTimeDiv(readableDate, relativeDate)}\n                    <div className=\"content-snippet\">{toSnippet(props.articleSummary, (isOnlyText ? 400 : 200))}</div>\n                    {getSourceTitle(props.sourceTitle, props.sourceUrl)}\n\n                </div>\n                {getImage(props.imageUrl, props.title)}\n            </div>\n        </div>\n    )\n}\n\nfunction getSourceTitleWithTime(sourceTitle, sourceUrl, readableDate, relativeDate) {\n\n    return (\n        <div  className=\"article-footer\">\n            <FontAwesomeIcon icon={faNewspaper} /> \n            <span className=\"source\" onClick={(event) => openInNewTab(sourceUrl, event)}>{sourceTitle}</span>\n            <span>-</span>\n            <span title={readableDate}> {relativeDate}</span>\n        </div>\n    )\n}\nfunction getSourceTitle(sourceTitle, sourceUrl) {\n\n    return (\n        <div className=\"article-footer\">\n            <FontAwesomeIcon  icon={faNewspaper} />\n            <a className=\"source\" href={sourceUrl} onClick={(e) => e.stopPropagation()} target=\"_blank\" rel=\"noreferrer noopener\">\n                {sourceTitle}\n            </a>\n        </div>\n    )\n}\nfunction getTimeDiv(readableDate, relativeDate) {\n\n    return (\n        <div title={readableDate} className=\"article-header\">\n            <span><FontAwesomeIcon icon={faClock} /> {relativeDate}</span>\n        </div>\n    )\n}\n\nfunction getTitle(title, link) {\n\n    return (\n        <div className=\"article-title\">\n            <a href={link} onClick={(e) => e.stopPropagation()} target=\"_blank\" rel=\"noreferrer noopener\">\n                {title}\n            </a>\n        </div>\n    )\n}\n\nfunction getImage(imgLink, title) {\n    if (imgLink) {\n        return (\n            <div className=\"news-img-container\">\n                <img className=\"news-img\" src={imgLink} alt={title} referrerPolicy=\"no-referrer\" />\n            </div>\n        )\n    } else {\n        return;\n    }\n}\n\nexport default React.memo(NewsCard)\n","import React from 'react';\nimport NewsCard from '../NewsCard';\nimport './News.scss';\n\nimport { Grid, CircularProgress } from '@material-ui/core';\nimport { KeyboardArrowDown, ErrorOutline } from '@material-ui/icons';\n\nfunction NewsPresenation(props) {\n\n    const { loading, error, articles, loadMore, hasNextPage } = props;\n    \n    return (\n        \n        <div className=\"news-flex\">\n            {articles.map((article) =>\n                (\n                    <NewsCard key= {article.id} {...article} />\n                )\n            )}\n            <Grid container justify=\"center\">\n                {loading ? (<CircularProgress />)\n                : (<div className=\"load-more clickable\"\n                        onClick={() => hasNextPage && !loading ? loadMore() : undefined}>\n                    \n                            {error ?  (<ErrorOutline fontSize=\"large\"  color=\"secondary\"/>)\n                            :(<KeyboardArrowDown color=\"primary\" fontSize=\"large\"/>)}\n                        \n                    </div>)\n                }\n            </Grid>\n        </div>\n\n    )\n}\n\nexport default NewsPresenation\n\n","import React from 'react';\n\nimport { useQuery, gql } from '@apollo/client';\nimport NewsPresenation from './NewsPresentation';\n\nconst GET_ARTICLES = gql`query Articles($cursor: String) {articles(first: 10, after: $cursor) {\n    edges {\n      node {\n        id, pubDateTime, title, sourceTitle, sourceUrl,\n        articleUrl,  articleSummary, imageUrl\n      }\n      cursor\n    } \n    pageInfo {startCursor, endCursor, hasNextPage}\n    totalCount\n  }}`;\n\nfunction toArticles(articles) {\n    return articles?.edges?.map( x=> x.node) || [];\n}\nfunction hasNextPage(articles) {\n    return articles?.pageInfo?.hasNextPage;\n}\n\nfunction News() {\n\n    const { loading, error, data, fetchMore } = useQuery(GET_ARTICLES);\n    \n    function loadMore () {\n        fetchMore({\n            variables: {\n              cursor: data?.articles?.pageInfo?.endCursor\n            }\n        });\n    }\n    \n    return (\n        <NewsPresenation \n            loading = {loading} error = {error} articles= {toArticles(data?.articles)} loadMore={loadMore} hasNextPage={hasNextPage(data?.articles)}\n        />\n    )\n}\n\nexport default News\n\n","import React from 'react';\nimport News from './components/News/News'\n\nimport './App.scss'\n\nimport {ApolloProvider} from '@apollo/client';\nimport { ApolloClient, InMemoryCache } from '@apollo/client';\nimport { relayStylePagination } from \"@apollo/client/utilities\";\n\n\n// init apollo client\nconst client = new ApolloClient({\n  uri: process.env.REACT_APP_API_URL,\n  cache: new InMemoryCache({\n    typePolicies: {\n      Query: {\n        fields: {\n          articles: relayStylePagination([]),\n        },\n      },\n    },\n  })\n});\n\nfunction App() {\n    return (\n        <ApolloProvider client={client}>\n            <div>\n                <img className=\"logo\" src={process.env.PUBLIC_URL + 'logo.png'} alt=\"Logo\"/>\n                <News/>\n            </div>\n        </ApolloProvider>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport moment from \"moment\"\nimport localization from 'moment/locale/ar-dz';\n\n\nmoment.updateLocale('ar-dz', localization);\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}